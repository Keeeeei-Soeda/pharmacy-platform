# yaku-navi.com ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †æ›¸

## ğŸ“‹ ç¾åœ¨ã®çŠ¶æ³
- âœ… ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- âœ… ç”»åƒã‚’è¿½åŠ ï¼ˆpharmacy_top_page02.jpg, pharmacy_top-page04.jpg, pharmacy_top_page03.jpgï¼‰
- âœ… è–¬å‰¤å¸«ç”¨ãƒ»è–¬å±€ç”¨ã®2ã¤ã®ç™»éŒ²ãƒšãƒ¼ã‚¸ã‚’ä½œæˆ

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•ï¼ˆ2ã¤ã®é¸æŠè‚¢ï¼‰

### æ–¹æ³•A: SSHçµŒç”±ã§Gitã‹ã‚‰ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæ¨å¥¨ãƒ»æœ€é€Ÿï¼‰

```bash
# 1. ã‚µãƒ¼ãƒãƒ¼ã«SSHæ¥ç¶š
ssh pharmacy@yaku-navi.com
# ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: Pharm@cy2025!Secure#VPS

# 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ï¼ˆæ—¢å­˜ã®å ´åˆï¼‰
cd ~/pharmacy-platform

# 3. æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
git pull origin main

# 4. ä¾å­˜é–¢ä¿‚ã‚’æ›´æ–°
npm install

# 5. ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆåˆå›ã®ã¿ã€FTPã§å…ˆã«å®Ÿè¡Œï¼‰
# pharmacy_top_page02.jpg
# pharmacy_top-page04.jpg
# pharmacy_top_page03.jpg
# â†’ public/ ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®

# 6. å†ãƒ“ãƒ«ãƒ‰
npm run build

# 7. PM2ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’å†èµ·å‹•
pm2 restart pharmacy-frontend

# 8. ç¢ºèª
pm2 logs pharmacy-frontend --lines 50
```

### æ–¹æ³•B: FTPçµŒç”±ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

#### Step 1: FileZillaã§æ¥ç¶š

**æ¥ç¶šæƒ…å ±:**
```
ãƒ—ãƒ­ãƒˆã‚³ãƒ«: SFTP
ãƒ›ã‚¹ãƒˆ: yaku-navi.com
ãƒãƒ¼ãƒˆ: 22
ãƒ¦ãƒ¼ã‚¶ãƒ¼: pharmacy
ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: Pharm@cy2025!Secure#VPS
```

#### Step 2: ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

**ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«:**
```
âœ… app/page.tsx ï¼ˆæ›´æ–°æ¸ˆã¿ï¼‰
âœ… app/auth/register/pharmacist/page.tsx ï¼ˆæ–°è¦ï¼‰
âœ… app/auth/register/pharmacy/page.tsx ï¼ˆæ–°è¦ï¼‰
âœ… app/layout.tsx ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ¸ˆã¿ï¼‰
âœ… public/pharmacy_top_page02.jpg ï¼ˆæ–°è¦ï¼‰
âœ… public/pharmacy_top-page04.jpg ï¼ˆæ–°è¦ï¼‰
âœ… public/pharmacy_top_page03.jpg ï¼ˆæ–°è¦ï¼‰
âœ… .next/ ãƒ•ã‚©ãƒ«ãƒ€å…¨ä½“ï¼ˆãƒ“ãƒ«ãƒ‰æ¸ˆã¿ï¼‰
```

**ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å…ˆ:**
```
/home/pharmacy/pharmacy-platform/
```

#### Step 3: SSHæ¥ç¶šã—ã¦å†èµ·å‹•

```bash
ssh pharmacy@yaku-navi.com

cd ~/pharmacy-platform
pm2 restart pharmacy-frontend
pm2 logs pharmacy-frontend --lines 50
```

---

## ğŸ“‚ é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«é…ç½®

### ã‚µãƒ¼ãƒãƒ¼ä¸Šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
/home/pharmacy/pharmacy-platform/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx ï¼ˆãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼‰
â”‚   â”œâ”€â”€ layout.tsx ï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰
â”‚   â””â”€â”€ auth/
â”‚       â””â”€â”€ register/
â”‚           â”œâ”€â”€ pharmacist/
â”‚           â”‚   â””â”€â”€ page.tsx ï¼ˆè–¬å‰¤å¸«ç™»éŒ²ãƒšãƒ¼ã‚¸ï¼‰
â”‚           â””â”€â”€ pharmacy/
â”‚               â””â”€â”€ page.tsx ï¼ˆè–¬å±€ç™»éŒ²ãƒšãƒ¼ã‚¸ï¼‰
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ pharmacy_top_page02.jpg ï¼ˆæ–°è¦ç”»åƒ1ï¼‰
â”‚   â”œâ”€â”€ pharmacy_top-page04.jpg ï¼ˆæ–°è¦ç”»åƒ2ï¼‰
â”‚   â””â”€â”€ pharmacy_top_page03.jpg ï¼ˆæ–°è¦ç”»åƒ3ï¼‰
â”œâ”€â”€ .next/ ï¼ˆãƒ“ãƒ«ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â””â”€â”€ package.json
```

---

## âœ… ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®ç¢ºèªäº‹é …

### 1. ã‚¢ã‚¯ã‚»ã‚¹ç¢ºèª
```
https://yaku-navi.com/
```

### 2. å„ãƒšãƒ¼ã‚¸ã®å‹•ä½œç¢ºèª
- [ ] ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ç”»åƒãŒ3æšã¨ã‚‚æ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã€Œè–¬å‰¤å¸«ã¨ã—ã¦ç„¡æ–™ç™»éŒ²ã€ãƒœã‚¿ãƒ³ â†’ `/auth/register/pharmacist` ã«é·ç§»
- [ ] ã€Œæ¡ç”¨æ‹…å½“è€…ã¨ã—ã¦ç™»éŒ²ã€ãƒœã‚¿ãƒ³ â†’ `/auth/register/pharmacy` ã«é·ç§»
- [ ] è–¬å‰¤å¸«ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] è–¬å±€ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹

### 3. ãƒ­ã‚°ç¢ºèª
```bash
# PM2ãƒ­ã‚°ã§ ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèª
pm2 logs pharmacy-frontend --lines 100

# ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Œã°
pm2 logs pharmacy-frontend --err --lines 100
```

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ç”»åƒãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆ

```bash
# ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
ls -la ~/pharmacy-platform/public/pharmacy_top*

# ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã®ç¢ºèª
chmod 644 ~/pharmacy-platform/public/pharmacy_top*.jpg
```

### ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆ

```bash
# ãƒ“ãƒ«ãƒ‰ã®å†å®Ÿè¡Œ
cd ~/pharmacy-platform
npm run build

# PM2ã®å®Œå…¨å†èµ·å‹•
pm2 delete pharmacy-frontend
pm2 start ecosystem.config.js --only pharmacy-frontend
pm2 save
```

### Nginxã®è¨­å®šç¢ºèª

```bash
# Nginxè¨­å®šãƒ†ã‚¹ãƒˆ
sudo nginx -t

# Nginxå†èµ·å‹•
sudo systemctl restart nginx

# Nginxãƒ­ã‚°ç¢ºèª
sudo tail -f /var/log/nginx/error.log
```

---

## ğŸ“ ä»Šå›ã®å¤‰æ›´å†…å®¹ã¾ã¨ã‚

### 1. ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆapp/page.tsxï¼‰
- âœ… ç¾ã—ã„ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã«å¤‰æ›´
- âœ… Framer Motionã«ã‚ˆã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ 
- âœ… ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ï¼ˆè–¬å‰¤å¸«å‘ã‘ãƒ»è–¬å±€å‘ã‘ï¼‰
- âœ… å®Ÿéš›ã®ç”»åƒã«å·®ã—æ›¿ãˆï¼ˆ3æšï¼‰

### 2. ç™»éŒ²ãƒšãƒ¼ã‚¸ã®åˆ†é›¢
- âœ… `/auth/register/pharmacist` ï¼ˆè–¬å‰¤å¸«ç”¨ï¼‰
- âœ… `/auth/register/pharmacy` ï¼ˆè–¬å±€ç”¨ï¼‰
- âœ… å„ãƒšãƒ¼ã‚¸ã§é©åˆ‡ãªãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤º

### 3. ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ›´æ–°ï¼ˆapp/layout.tsxï¼‰
- âœ… ã‚¿ã‚¤ãƒˆãƒ«: ã€Œè–¬ãƒŠãƒ“ã€
- âœ… èª¬æ˜æ–‡ã®æ›´æ–°

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„äº‹é …

1. **ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã¯çµ¶å¯¾ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãªã„**
   - `.env`
   - `.env.local`

2. **SSHãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ç®¡ç†**
   - ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å®‰å…¨ã«ä¿ç®¡
   - å®šæœŸçš„ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ã‚’æ¨å¥¨

3. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**
   - ãƒ‡ãƒ—ãƒ­ã‚¤å‰ã«ã‚µãƒ¼ãƒãƒ¼ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
   ```bash
   cd ~
   tar -czf backup_$(date +%Y%m%d_%H%M%S).tar.gz pharmacy-platform/
   ```

---

## ğŸ“ ç·Šæ€¥æ™‚ã®å¯¾å¿œ

### ã‚µã‚¤ãƒˆãŒå‹•ã‹ãªããªã£ãŸå ´åˆ

```bash
# 1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®çŠ¶æ…‹ç¢ºèª
pm2 status

# 2. å…¨ã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹•
pm2 restart all

# 3. ãã‚Œã§ã‚‚ãƒ€ãƒ¡ãªå ´åˆã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ
cd ~
tar -xzf backup_YYYYMMDD_HHMMSS.tar.gz
cd pharmacy-platform
pm2 restart all
```

---

**ä½œæˆæ—¥**: 2026-01-11
**æœ€çµ‚æ›´æ–°**: 2026-01-11

