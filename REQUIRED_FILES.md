# è–¬å‰¤å¸«ãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  - å¿…è¦ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

**æœ€çµ‚æ›´æ–°**: 2024 å¹´ 12 æœˆ 4 æ—¥

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€è–¬å±€å´ã®ç®¡ç†ã¨è–¬å‰¤å¸«ã®ç®¡ç†ã‚’å«ã‚€ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å…¨ä½“ã‚’å‹•ä½œã•ã›ã‚‹ãŸã‚ã«å¿…è¦ãªã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã„ã¾ã™ã€‚

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
pharmacy-platform/
â”œâ”€â”€ app/                          # Next.js ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”œâ”€â”€ backend/                      # Express ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”œâ”€â”€ lib/                          # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”œâ”€â”€ prisma/                       # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
â”œâ”€â”€ public/                       # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
```

---

## ğŸ¨ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆNext.js + TypeScriptï¼‰

### ğŸ“„ ãƒ«ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«è¨­å®š

| ãƒ•ã‚¡ã‚¤ãƒ«             | ç”¨é€”                             | é‡è¦åº¦      |
| -------------------- | -------------------------------- | ----------- |
| `package.json`       | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¾å­˜é–¢ä¿‚ã¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | â­â­â­ å¿…é ˆ |
| `next.config.ts`     | Next.js è¨­å®š                     | â­â­â­ å¿…é ˆ |
| `tailwind.config.ts` | Tailwind CSS è¨­å®š                | â­â­â­ å¿…é ˆ |
| `tsconfig.json`      | TypeScript è¨­å®š                  | â­â­â­ å¿…é ˆ |
| `.env.local`         | ç’°å¢ƒå¤‰æ•°ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰       | â­â­â­ å¿…é ˆ |
| `.gitignore`         | Git ç„¡è¦–ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®š             | â­â­ æ¨å¥¨   |

**å¿…é ˆã®ç’°å¢ƒå¤‰æ•°ï¼ˆ.env.localï¼‰**:

```env
NEXT_PUBLIC_API_URL=http://localhost:3001
```

---

### ğŸ  å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»ãƒšãƒ¼ã‚¸

| ãƒ•ã‚¡ã‚¤ãƒ«             | ç”¨é€”             | æ©Ÿèƒ½                                   |
| -------------------- | ---------------- | -------------------------------------- |
| **`app/layout.tsx`** | ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ | å…¨ãƒšãƒ¼ã‚¸å…±é€šã® HTML æ§‹é€ ã€ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š |
| **`app/page.tsx`**   | ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸     | ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã€ã‚µãƒ¼ãƒ“ã‚¹èª¬æ˜       |

---

### ğŸ” èªè¨¼é–¢é€£ãƒšãƒ¼ã‚¸

| ãƒ•ã‚¡ã‚¤ãƒ«                         | ç”¨é€”           | å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ | æ©Ÿèƒ½                                          |
| -------------------------------- | -------------- | ------------ | --------------------------------------------- |
| **`app/auth/login/page.tsx`**    | ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ | è–¬å‰¤å¸«ãƒ»è–¬å±€ | ãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—é¸æŠ |
| **`app/auth/register/page.tsx`** | æ–°è¦ç™»éŒ²ãƒšãƒ¼ã‚¸ | è–¬å‰¤å¸«ãƒ»è–¬å±€ | æ–°è¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«åŸºæœ¬æƒ…å ±å…¥åŠ›  |

**ä¸»ãªæ©Ÿèƒ½**:

- âœ… ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—åˆ¥ç™»éŒ²ï¼ˆè–¬å‰¤å¸«/è–¬å±€ï¼‰
- âœ… è‡ªå‹•ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ä½œæˆ
- âœ… JWT ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†

---

### ğŸ‘¨â€âš•ï¸ è–¬å‰¤å¸«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

| ãƒ•ã‚¡ã‚¤ãƒ«                                | ç”¨é€”                       |
| --------------------------------------- | -------------------------- |
| **`app/pharmacist/dashboard/page.tsx`** | è–¬å‰¤å¸«ãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ |

**å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½**:

#### 1. å‹Ÿé›†æ¤œç´¢ã‚¿ãƒ–

- âœ… æ±‚äººæ¤œç´¢ï¼ˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€éƒ½é“åºœçœŒã€é›‡ç”¨å½¢æ…‹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼‰
- âœ… æ±‚äººä¸€è¦§è¡¨ç¤º
- âœ… æ±‚äººè©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«
- âœ… å¿œå‹Ÿæ©Ÿèƒ½ï¼ˆå¿—æœ›å‹•æ©Ÿå…¥åŠ›ï¼‰
- âœ… è‡ªåˆ†ã®å¿œå‹Ÿä¸€è¦§è¡¨ç¤º
- âœ… å¿œå‹Ÿã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º

#### 2. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ãƒ–

- âœ… ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒ¬ãƒƒãƒ‰ä¸€è¦§
- âœ… ãƒãƒ£ãƒƒãƒˆå½¢å¼ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ UI
- âœ… ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
- âœ… æœªèª­ã‚«ã‚¦ãƒ³ãƒˆè¡¨ç¤º
- âœ… æ‰¿èªå¾Œã®ã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¯èƒ½

#### 3. å¥‘ç´„ç®¡ç†ã‚¿ãƒ–

- âœ… å¥‘ç´„ä¸€è¦§è¡¨ç¤º
- âœ… æ¡ç”¨ã‚ªãƒ•ã‚¡ãƒ¼è‡ªå‹•é€šçŸ¥ï¼ˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰
- âœ… ã‚ªãƒ•ã‚¡ãƒ¼æ‰¿è«¾/è¾é€€æ©Ÿèƒ½
- âœ… åŠ´åƒæ¡ä»¶é€šçŸ¥æ›¸è¡¨ç¤º
- âœ… å¥‘ç´„è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«

#### 4. å‡ºå‹¤äºˆå®šã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¿ãƒ–

- âš ï¸ ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼ˆæ¬¡ã®å®Ÿè£…å¯¾è±¡ï¼‰
- äºˆå®š: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤ºã€å‹¤å‹™æ—¥ãƒã‚¤ãƒ©ã‚¤ãƒˆã€æœˆé–“å‡ºå‹¤æ—¥æ•°

#### 5. ãã®ä»–ã®ã‚¿ãƒ–

- å‹¤å‹™ä¸­ã®è–¬å±€ï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰
- è–¬å±€æƒ…å ±ï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰
- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰

**ä½¿ç”¨ API**:

- `GET /api/jobs` - æ±‚äººä¸€è¦§å–å¾—
- `POST /api/applications` - å¿œå‹Ÿ
- `GET /api/applications/my` - è‡ªåˆ†ã®å¿œå‹Ÿä¸€è¦§
- `GET /api/messages/threads` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒ¬ãƒƒãƒ‰ä¸€è¦§
- `GET /api/messages/thread/:id` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—
- `POST /api/messages` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
- `GET /api/messages/unread-count` - æœªèª­æ•°å–å¾—
- `PUT /api/messages/:id/read` - æ—¢èª­ãƒãƒ¼ã‚¯
- `GET /api/contracts/pharmacist` - å¥‘ç´„ä¸€è¦§å–å¾—
- `POST /api/contracts/:id/accept` - ã‚ªãƒ•ã‚¡ãƒ¼æ‰¿è«¾
- `POST /api/contracts/:id/reject` - ã‚ªãƒ•ã‚¡ãƒ¼è¾é€€

---

### ğŸ¥ è–¬å±€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

| ãƒ•ã‚¡ã‚¤ãƒ«                              | ç”¨é€”                     |
| ------------------------------------- | ------------------------ |
| **`app/pharmacy/dashboard/page.tsx`** | è–¬å±€ãƒ¡ã‚¤ãƒ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ |

**å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½**:

#### 1. å¿œå‹Ÿç¢ºèªã‚¿ãƒ–

- âœ… å¿œå‹Ÿè€…ä¸€è¦§è¡¨ç¤º
- âœ… æ®µéšçš„æƒ…å ±å…¬é–‹
  - æ‰¿èªå‰: åŒ¿ååŒ–ã•ã‚ŒãŸåå‰ï¼ˆç”° â—¯â—¯ èŠ± â—¯â—¯ï¼‰
  - æ‰¿èªå‰: é€£çµ¡å…ˆéè¡¨ç¤º
  - æ‰¿èªå¾Œ: ãƒ•ãƒ«ãƒãƒ¼ãƒ ãƒ»é€£çµ¡å…ˆå…¬é–‹
- âœ… å¿œå‹Ÿè€…ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«
- âœ… å¿œå‹Ÿæ‰¿èª/æ‹’å¦æ©Ÿèƒ½
- âœ… å¿œå‹Ÿã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†

#### 2. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ãƒ–

- âœ… ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒ¬ãƒƒãƒ‰ä¸€è¦§
- âœ… ãƒãƒ£ãƒƒãƒˆå½¢å¼ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ UI
- âœ… ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
- âœ… æœªèª­ã‚«ã‚¦ãƒ³ãƒˆè¡¨ç¤º
- âœ… ã€Œã“ã®è–¬å‰¤å¸«ã‚’æ¡ç”¨ã™ã‚‹ã€ãƒœã‚¿ãƒ³ï¼ˆæ¡ç”¨ã‚ªãƒ•ã‚¡ãƒ¼é€ä¿¡ï¼‰

#### 3. å‹Ÿé›†æ²è¼‰ã‚¿ãƒ–

- âœ… æ±‚äººä¸€è¦§è¡¨ç¤º
- âœ… æ±‚äººæŠ•ç¨¿ãƒ¢ãƒ¼ãƒ€ãƒ«
  - ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€é›‡ç”¨å½¢æ…‹
  - æ™‚çµ¦ç¯„å›²è¨­å®š
  - å‹¤å‹™åœ°ã€å‹¤å‹™æ™‚é–“ã€å‹¤å‹™æ›œæ—¥
  - å¿œå‹Ÿç· åˆ‡æ—¥ï¼ˆ3 æ—¥ã€œ2 é€±é–“ï¼‰
  - ç¦åˆ©åšç”Ÿã€å¿…è¦è³‡æ ¼
- âœ… æ±‚äººç·¨é›†æ©Ÿèƒ½
- âœ… æ±‚äººå‰Šé™¤æ©Ÿèƒ½
- âœ… æ±‚äººã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†ï¼ˆå…¬é–‹/éå…¬é–‹ï¼‰

#### 4. å¥‘ç´„ç®¡ç†ã‚¿ãƒ–

- âœ… å¥‘ç´„ä¸€è¦§è¡¨ç¤º
- âœ… æ¡ç”¨ã‚ªãƒ•ã‚¡ãƒ¼é€ä¿¡æ©Ÿèƒ½
- âœ… å¥‘ç´„è©³ç´°è¡¨ç¤º
- âœ… å¥‘ç´„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†

#### 5. å‹¤å‹™ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã‚¿ãƒ–

- âš ï¸ ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼ˆæ¬¡ã®å®Ÿè£…å¯¾è±¡ï¼‰
- äºˆå®š: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä¸€æ‹¬ä½œæˆã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤ºã€å€‹åˆ¥ç·¨é›†

#### 6. ãã®ä»–ã®ã‚¿ãƒ–

- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç†ï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰
- æ¡ç”¨è–¬å‰¤å¸«ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰
- å ±é…¬è¨ˆç®—ã¨è²»ç”¨ç®¡ç†ï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ï¼‰

**ä½¿ç”¨ API**:

- `GET /api/jobs/my` - è‡ªåˆ†ã®æ±‚äººä¸€è¦§
- `POST /api/jobs` - æ±‚äººä½œæˆ
- `PUT /api/jobs/:id` - æ±‚äººæ›´æ–°
- `DELETE /api/jobs/:id` - æ±‚äººå‰Šé™¤
- `PUT /api/jobs/:id/status` - æ±‚äººã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
- `GET /api/applications/pharmacy` - å¿œå‹Ÿè€…ä¸€è¦§
- `PUT /api/applications/:id/accept` - å¿œå‹Ÿæ‰¿èª
- `PUT /api/applications/:id/reject` - å¿œå‹Ÿæ‹’å¦
- `GET /api/messages/threads` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒ¬ãƒƒãƒ‰ä¸€è¦§
- `GET /api/messages/thread/:id` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—
- `POST /api/messages` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
- `GET /api/messages/unread-count` - æœªèª­æ•°å–å¾—
- `PUT /api/messages/:id/read` - æ—¢èª­ãƒãƒ¼ã‚¯
- `POST /api/contracts/offer` - æ¡ç”¨ã‚ªãƒ•ã‚¡ãƒ¼é€ä¿¡
- `GET /api/contracts/pharmacy` - å¥‘ç´„ä¸€è¦§å–å¾—
- `GET /api/contracts/:id` - å¥‘ç´„è©³ç´°å–å¾—

---

### ğŸ› ï¸ ç®¡ç†è€…ãƒšãƒ¼ã‚¸ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ«                             | ç”¨é€”               |
| ------------------------------------ | ------------------ |
| **`app/admin/pharmacists/page.tsx`** | ç®¡ç†è€…ç”¨è–¬å‰¤å¸«ä¸€è¦§ |

**æ©Ÿèƒ½**:

- å…¨è–¬å‰¤å¸«ã®ä¸€è¦§è¡¨ç¤º
- è–¬å‰¤å¸«æƒ…å ±ã®ç®¡ç†

---

### ğŸ“š å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆlib/ï¼‰

#### API é€šä¿¡

| ãƒ•ã‚¡ã‚¤ãƒ«                | ç”¨é€”                       | æ©Ÿèƒ½                                                   |
| ----------------------- | -------------------------- | ------------------------------------------------------ |
| **`lib/api-client.ts`** | API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåŸºåº•ã‚¯ãƒ©ã‚¹ | JWT ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š |
| **`lib/api/index.ts`**  | API é–¢æ•°ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ       | ã™ã¹ã¦ã® API é–¢æ•°ã®çµ±ä¸€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ                    |

#### æ©Ÿèƒ½åˆ¥ API

| ãƒ•ã‚¡ã‚¤ãƒ«                      | æ‹…å½“æ©Ÿèƒ½             | ä¸»ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ                                                                         |
| ----------------------------- | -------------------- | ------------------------------------------------------------------------------------------ |
| **`lib/api/auth.ts`**         | èªè¨¼                 | login, register, logout                                                                    |
| **`lib/api/jobs.ts`**         | æ±‚äººç®¡ç†             | getJobs, createJob, updateJob, deleteJob                                                   |
| **`lib/api/applications.ts`** | å¿œå‹Ÿç®¡ç†             | applyToJob, getMyApplications, acceptApplication, rejectApplication                        |
| **`lib/api/messages.ts`**     | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸           | getMyThreads, getMessagesByThread, sendMessage, getUnreadCount, markAsRead                 |
| **`lib/api/contracts.ts`**    | å¥‘ç´„ç®¡ç†             | sendJobOffer, acceptJobOffer, rejectJobOffer, getPharmacistContracts, getPharmacyContracts |
| **`lib/api/profiles.ts`**     | ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«         | getPharmacistProfile, updatePharmacistProfile, getPharmacyProfile, updatePharmacyProfile   |
| **`lib/api/schedules.ts`**    | ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«         | createSchedule, getSchedules, updateSchedule, deleteSchedule                               |
| **`lib/api/uploads.ts`**      | ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ | uploadLicense, getLicenseInfo, deleteLicense                                               |
| **`lib/api/admin.ts`**        | ç®¡ç†æ©Ÿèƒ½             | getAllPharmacists, getAllPharmacies                                                        |

---

## ğŸ”§ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆExpress + Node.jsï¼‰

### ğŸ“„ ãƒ«ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«è¨­å®š

| ãƒ•ã‚¡ã‚¤ãƒ«                   | ç”¨é€”                 | é‡è¦åº¦      |
| -------------------------- | -------------------- | ----------- |
| **`backend/package.json`** | ä¾å­˜é–¢ä¿‚ã¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | â­â­â­ å¿…é ˆ |
| **`backend/.env`**         | ç’°å¢ƒå¤‰æ•°             | â­â­â­ å¿…é ˆ |

**å¿…é ˆã®ç’°å¢ƒå¤‰æ•°ï¼ˆbackend/.envï¼‰**:

```env
DATABASE_URL=postgresql://username:password@localhost:5432/pharmacy_platform
JWT_SECRET=your-super-secret-jwt-key
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:3000
```

---

### ğŸš€ ã‚µãƒ¼ãƒãƒ¼èµ·å‹•

| ãƒ•ã‚¡ã‚¤ãƒ«                    | ç”¨é€”                         | æ©Ÿèƒ½                                                  |
| --------------------------- | ---------------------------- | ----------------------------------------------------- |
| **`backend/src/server.js`** | ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ   | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šç¢ºèªã€ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã€Graceful shutdown |
| **`backend/src/app.js`**    | Express ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š | ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢è¨­å®šã€ãƒ«ãƒ¼ãƒˆå®šç¾©ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°      |

---

### ğŸ”Œ ãƒ«ãƒ¼ãƒˆå®šç¾©

| ãƒ•ã‚¡ã‚¤ãƒ«                                 | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ        | æ©Ÿèƒ½                          |
| ---------------------------------------- | --------------------- | ----------------------------- |
| **`backend/src/routes/auth.js`**         | `/api/auth/*`         | èªè¨¼é–¢é€£ãƒ«ãƒ¼ãƒˆ                |
| **`backend/src/routes/jobs.js`**         | `/api/jobs/*`         | æ±‚äººç®¡ç†ãƒ«ãƒ¼ãƒˆ                |
| **`backend/src/routes/applications.js`** | `/api/applications/*` | å¿œå‹Ÿç®¡ç†ãƒ«ãƒ¼ãƒˆ                |
| **`backend/src/routes/messages.js`**     | `/api/messages/*`     | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ãƒ«ãƒ¼ãƒˆ          |
| **`backend/src/routes/contracts.js`**    | `/api/contracts/*`    | å¥‘ç´„ç®¡ç†ãƒ«ãƒ¼ãƒˆ                |
| **`backend/src/routes/pharmacists.js`**  | `/api/pharmacists/*`  | è–¬å‰¤å¸«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ«ãƒ¼ãƒˆ      |
| **`backend/src/routes/pharmacies.js`**   | `/api/pharmacies/*`   | è–¬å±€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ«ãƒ¼ãƒˆ        |
| **`backend/src/routes/schedules.js`**    | `/api/schedules/*`    | ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ãƒ«ãƒ¼ãƒˆ        |
| **`backend/src/routes/uploads.js`**      | `/api/uploads/*`      | ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ«ãƒ¼ãƒˆ    |
| **`backend/src/routes/attendance.js`**   | `/api/attendance/*`   | å‹¤æ€ ç®¡ç†ãƒ«ãƒ¼ãƒˆï¼ˆLINE é€£æºç”¨ï¼‰ |
| **`backend/src/routes/admin.js`**        | `/api/admin/*`        | ç®¡ç†è€…æ©Ÿèƒ½ãƒ«ãƒ¼ãƒˆ              |
| **`backend/src/routes/users.js`**        | `/api/users/*`        | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ãƒ«ãƒ¼ãƒˆ            |

---

### ğŸ® ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼‰

#### èªè¨¼ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†

| ãƒ•ã‚¡ã‚¤ãƒ«                                        | æ©Ÿèƒ½                                                       |
| ----------------------------------------------- | ---------------------------------------------------------- |
| **`backend/src/controllers/authController.js`** | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã€ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œã€è‡ªå‹•ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ä½œæˆ |
| **`backend/src/controllers/userController.js`** | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—ãƒ»æ›´æ–°                                     |

**ä¸»ãªæ©Ÿèƒ½**:

- âœ… ãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼
- âœ… JWT ãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œãƒ»æ¤œè¨¼
- âœ… ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ï¼ˆbcryptï¼‰
- âœ… è‡ªå‹•ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ä½œæˆï¼ˆPharmacistProfile / PharmacyProfileï¼‰

---

#### æ±‚äººç®¡ç†

| ãƒ•ã‚¡ã‚¤ãƒ«                                       | æ©Ÿèƒ½                                            |
| ---------------------------------------------- | ----------------------------------------------- |
| **`backend/src/controllers/jobController.js`** | æ±‚äºº CRUDã€æ¤œç´¢ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç† |

**ä¸»ãªæ©Ÿèƒ½**:

- âœ… æ±‚äººæŠ•ç¨¿ãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- âœ… æ±‚äººæ¤œç´¢ï¼ˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€éƒ½é“åºœçœŒã€é›‡ç”¨å½¢æ…‹ï¼‰
- âœ… å¿œå‹Ÿç· åˆ‡æ—¥ç®¡ç†
- âœ… è‡ªå‹• PharmacyProfile ä½œæˆ
- âœ… è¤‡æ•°è–¬å±€åº—èˆ—å¯¾å¿œ

**å®Ÿè£…æ¸ˆã¿ API**:

- `GET /api/jobs` - æ±‚äººä¸€è¦§å–å¾—ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ä»˜ãï¼‰
- `GET /api/jobs/:id` - æ±‚äººè©³ç´°å–å¾—
- `GET /api/jobs/my` - è‡ªåˆ†ã®æ±‚äººä¸€è¦§ï¼ˆè–¬å±€ç”¨ï¼‰
- `POST /api/jobs` - æ±‚äººä½œæˆ
- `PUT /api/jobs/:id` - æ±‚äººæ›´æ–°
- `DELETE /api/jobs/:id` - æ±‚äººå‰Šé™¤
- `PUT /api/jobs/:id/status` - æ±‚äººã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°

---

#### å¿œå‹Ÿç®¡ç†

| ãƒ•ã‚¡ã‚¤ãƒ«                                               | æ©Ÿèƒ½                                 |
| ------------------------------------------------------ | ------------------------------------ |
| **`backend/src/controllers/applicationController.js`** | å¿œå‹Ÿ CRUDã€æ‰¿èª/æ‹’å¦ã€æ®µéšçš„æƒ…å ±å…¬é–‹ |

**ä¸»ãªæ©Ÿèƒ½**:

- âœ… å¿œå‹Ÿä½œæˆï¼ˆå¿—æœ›å‹•æ©Ÿä»˜ãï¼‰
- âœ… å¿œå‹Ÿä¸€è¦§å–å¾—ï¼ˆè–¬å‰¤å¸«ç”¨/è–¬å±€ç”¨ï¼‰
- âœ… å¿œå‹Ÿæ‰¿èª/æ‹’å¦
- âœ… æ®µéšçš„æƒ…å ±å…¬é–‹
  - æ‰¿èªå‰: åŒ¿ååŒ–ï¼ˆç”° â—¯â—¯ èŠ± â—¯â—¯ï¼‰ã€é€£çµ¡å…ˆéè¡¨ç¤º
  - æ‰¿èªå¾Œ: ãƒ•ãƒ«ãƒãƒ¼ãƒ ã€é€£çµ¡å…ˆå…¬é–‹
- âœ… è‡ªå‹•ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒ¬ãƒƒãƒ‰ä½œæˆ
- âœ… è‡ªå‹• PharmacistProfile ä½œæˆ

**å®Ÿè£…æ¸ˆã¿ API**:

- `POST /api/applications` - å¿œå‹Ÿä½œæˆ
- `GET /api/applications/my` - è‡ªåˆ†ã®å¿œå‹Ÿä¸€è¦§ï¼ˆè–¬å‰¤å¸«ç”¨ï¼‰
- `GET /api/applications/pharmacy` - å¿œå‹Ÿè€…ä¸€è¦§ï¼ˆè–¬å±€ç”¨ï¼‰
- `PUT /api/applications/:id/accept` - å¿œå‹Ÿæ‰¿èª
- `PUT /api/applications/:id/reject` - å¿œå‹Ÿæ‹’å¦
- `PUT /api/applications/:id/withdraw` - å¿œå‹Ÿå–ã‚Šä¸‹ã’

---

#### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°

| ãƒ•ã‚¡ã‚¤ãƒ«                                           | æ©Ÿèƒ½                                                                |
| -------------------------------------------------- | ------------------------------------------------------------------- |
| **`backend/src/controllers/messageController.js`** | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ CRUDã€ã‚¹ãƒ¬ãƒƒãƒ‰ç®¡ç†ã€æœªèª­ç®¡ç†ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒ¬ãƒƒãƒ‰è¡¨ç¤ºåˆ¶å¾¡ |

**ä¸»ãªæ©Ÿèƒ½**:

- âœ… ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
- âœ… ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒ¬ãƒƒãƒ‰ä¸€è¦§å–å¾—
- âœ… ã‚¹ãƒ¬ãƒƒãƒ‰å†…ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—
- âœ… æœªèª­ã‚«ã‚¦ãƒ³ãƒˆå–å¾—
- âœ… æ—¢èª­ãƒãƒ¼ã‚¯
- âœ… æ‰¿èªå¾Œã®ã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¯èƒ½ï¼ˆ`isActive` ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼‰

**å®Ÿè£…æ¸ˆã¿ API**:

- `POST /api/messages` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
- `GET /api/messages/threads` - ã‚¹ãƒ¬ãƒƒãƒ‰ä¸€è¦§å–å¾—
- `GET /api/messages/thread/:threadId` - ã‚¹ãƒ¬ãƒƒãƒ‰å†…ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—
- `GET /api/messages/unread-count` - æœªèª­æ•°å–å¾—
- `PUT /api/messages/:id/read` - æ—¢èª­ãƒãƒ¼ã‚¯

---

#### å¥‘ç´„ç®¡ç†

| ãƒ•ã‚¡ã‚¤ãƒ«                                            | æ©Ÿèƒ½                                            |
| --------------------------------------------------- | ----------------------------------------------- |
| **`backend/src/controllers/contractController.js`** | æ¡ç”¨ã‚ªãƒ•ã‚¡ãƒ¼é€ä¿¡ã€æ‰¿è«¾/è¾é€€ã€åŠ´åƒæ¡ä»¶é€šçŸ¥æ›¸ç”Ÿæˆ |

**ä¸»ãªæ©Ÿèƒ½**:

- âœ… æ¡ç”¨ã‚ªãƒ•ã‚¡ãƒ¼é€ä¿¡ï¼ˆè–¬å±€ â†’ è–¬å‰¤å¸«ï¼‰
- âœ… ã‚ªãƒ•ã‚¡ãƒ¼æ‰¿è«¾ï¼ˆåŠ´åƒæ¡ä»¶é€šçŸ¥æ›¸è‡ªå‹•ç”Ÿæˆï¼‰
- âœ… ã‚ªãƒ•ã‚¡ãƒ¼è¾é€€ï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒ¬ãƒƒãƒ‰éè¡¨ç¤ºåŒ–ï¼‰
- âœ… å¥‘ç´„ä¸€è¦§å–å¾—ï¼ˆè–¬å‰¤å¸«ç”¨/è–¬å±€ç”¨ï¼‰
- âœ… å¥‘ç´„è©³ç´°å–å¾—
- âœ… è‡ªå‹•é€šçŸ¥é€ä¿¡

**å®Ÿè£…æ¸ˆã¿ API**:

- `POST /api/contracts/offer` - æ¡ç”¨ã‚ªãƒ•ã‚¡ãƒ¼é€ä¿¡
- `POST /api/contracts/:id/accept` - ã‚ªãƒ•ã‚¡ãƒ¼æ‰¿è«¾
- `POST /api/contracts/:id/reject` - ã‚ªãƒ•ã‚¡ãƒ¼è¾é€€
- `GET /api/contracts/pharmacist` - å¥‘ç´„ä¸€è¦§ï¼ˆè–¬å‰¤å¸«ç”¨ï¼‰
- `GET /api/contracts/pharmacy` - å¥‘ç´„ä¸€è¦§ï¼ˆè–¬å±€ç”¨ï¼‰
- `GET /api/contracts/:id` - å¥‘ç´„è©³ç´°å–å¾—

---

#### ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç†

| ãƒ•ã‚¡ã‚¤ãƒ«                                              | æ©Ÿèƒ½                                  |
| ----------------------------------------------------- | ------------------------------------- |
| **`backend/src/controllers/pharmacistController.js`** | è–¬å‰¤å¸«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« CRUDã€å…è¨±æƒ…å ±ç®¡ç† |
| **`backend/src/controllers/pharmacyController.js`**   | è–¬å±€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« CRUD                 |

**ä¸»ãªæ©Ÿèƒ½**:

- âœ… ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å–å¾—ãƒ»æ›´æ–°
- âœ… ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- âœ… è–¬å‰¤å¸«å…è¨±ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

---

#### ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†

| ãƒ•ã‚¡ã‚¤ãƒ«                                            | æ©Ÿèƒ½                            |
| --------------------------------------------------- | ------------------------------- |
| **`backend/src/controllers/scheduleController.js`** | å‹¤å‹™ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« CRUDã€ä¸€æ‹¬ä½œæˆ |

**ä¸»ãªæ©Ÿèƒ½**:

- âœ… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä½œæˆãƒ»æ›´æ–°ãƒ»å‰Šé™¤
- âœ… ä¸€æ‹¬ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä½œæˆ
- âœ… å¥‘ç´„åˆ¥ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å–å¾—
- âœ… è–¬å‰¤å¸«ç”¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å–å¾—
- âœ… è–¬å±€ç”¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å–å¾—

**å®Ÿè£…æ¸ˆã¿ API**:

- `POST /api/schedules` - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä½œæˆ
- `POST /api/schedules/bulk` - ä¸€æ‹¬ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä½œæˆ
- `GET /api/schedules` - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä¸€è¦§å–å¾—
- `PUT /api/schedules/:id` - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ›´æ–°
- `DELETE /api/schedules/:id` - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å‰Šé™¤

---

#### ãã®ä»–

| ãƒ•ã‚¡ã‚¤ãƒ«                                              | æ©Ÿèƒ½                             |
| ----------------------------------------------------- | -------------------------------- |
| **`backend/src/controllers/uploadController.js`**     | ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ç”»åƒå‡¦ç†   |
| **`backend/src/controllers/attendanceController.js`** | å‹¤æ€ è¨˜éŒ² CRUDï¼ˆLINE é€£æºç”¨ï¼‰     |
| **`backend/src/controllers/adminController.js`**      | ç®¡ç†è€…æ©Ÿèƒ½ï¼ˆå…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ãªã©ï¼‰ |

---

### ğŸ”’ ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢

| ãƒ•ã‚¡ã‚¤ãƒ«                                   | æ©Ÿèƒ½                                       |
| ------------------------------------------ | ------------------------------------------ |
| **`backend/src/middleware/auth.js`**       | JWT èªè¨¼ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—èªå¯ã€ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼ |
| **`backend/src/middleware/validation.js`** | ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³                   |

**ä¸»ãªæ©Ÿèƒ½**:

- âœ… `authenticateToken` - JWT ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼
- âœ… `requireUserType` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—åˆ¥ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

---

### ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

| ãƒ•ã‚¡ã‚¤ãƒ«                                 | æ©Ÿèƒ½                  |
| ---------------------------------------- | --------------------- |
| **`backend/src/database/connection.js`** | PostgreSQL æ¥ç¶šãƒ—ãƒ¼ãƒ« |
| **`backend/src/database/queries.js`**    | å…±é€š SQL ã‚¯ã‚¨ãƒª       |
| **`backend/src/config/database.js`**     | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š      |

---

### ğŸ› ï¸ ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

| ãƒ•ã‚¡ã‚¤ãƒ«                                 | æ©Ÿèƒ½                       |
| ---------------------------------------- | -------------------------- |
| **`backend/src/utils/generateToken.js`** | JWT ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ           |
| **`backend/src/utils/hashPassword.js`**  | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ãƒ»æ¤œè¨¼ |
| **`backend/src/utils/sendEmail.js`**     | ãƒ¡ãƒ¼ãƒ«é€ä¿¡ï¼ˆé€šçŸ¥ç”¨ï¼‰       |
| **`backend/src/config/auth.js`**         | èªè¨¼è¨­å®š                   |

---

## ğŸ—ƒï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆPrisma ORMï¼‰

### ğŸ“„ å¿…é ˆãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ«                   | ç”¨é€”                     | é‡è¦åº¦      |
| -------------------------- | ------------------------ | ----------- |
| **`prisma/schema.prisma`** | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒå®šç¾© | â­â­â­ å¿…é ˆ |
| **`.env`**                 | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š URL     | â­â­â­ å¿…é ˆ |

**å¿…é ˆã®ç’°å¢ƒå¤‰æ•°ï¼ˆ.envï¼‰**:

```env
DATABASE_URL=postgresql://username:password@localhost:5432/pharmacy_platform
```

---

### ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼ˆå…¨ 16 ãƒ¢ãƒ‡ãƒ«ï¼‰

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«

| ãƒ¢ãƒ‡ãƒ«                    | èª¬æ˜                                                       |
| ------------------------- | ---------------------------------------------------------- |
| **User**                  | ãƒ¦ãƒ¼ã‚¶ãƒ¼åŸºæœ¬æƒ…å ±ï¼ˆãƒ¡ãƒ¼ãƒ«ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—ï¼‰     |
| **PharmacistProfile**     | è–¬å‰¤å¸«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆçµŒé¨“å¹´æ•°ã€å°‚é–€åˆ†é‡ã€å…è¨±ç•ªå·ã€é€£çµ¡å…ˆï¼‰ |
| **PharmacistPreferences** | è–¬å‰¤å¸«å¸Œæœ›æ¡ä»¶ï¼ˆå‹¤å‹™åœ°ã€é›‡ç”¨å½¢æ…‹ã€æ™‚çµ¦ç¯„å›²ï¼‰               |
| **PharmacyProfile**       | è–¬å±€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆè–¬å±€åã€æ‰€åœ¨åœ°ã€è¨±å¯ç•ªå·ï¼‰               |

#### æ±‚äººãƒ»å¿œå‹Ÿ

| ãƒ¢ãƒ‡ãƒ«             | èª¬æ˜                                                         |
| ------------------ | ------------------------------------------------------------ |
| **JobPosting**     | æ±‚äººæƒ…å ±ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€é›‡ç”¨å½¢æ…‹ã€æ™‚çµ¦ã€å‹¤å‹™åœ°ã€å¿œå‹Ÿç· åˆ‡ï¼‰ |
| **JobApplication** | å¿œå‹Ÿæƒ…å ±ï¼ˆå¿œå‹Ÿè€…ã€æ±‚äººã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€å¿—æœ›å‹•æ©Ÿï¼‰               |

#### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°

| ãƒ¢ãƒ‡ãƒ«            | èª¬æ˜                                                 |
| ----------------- | ---------------------------------------------------- |
| **MessageThread** | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒ¬ãƒƒãƒ‰ï¼ˆå¿œå‹Ÿã«ç´ã¥ãã€`isActive`ãƒ•ãƒ©ã‚°ï¼‰ |
| **Message**       | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆé€ä¿¡è€…ã€å†…å®¹ã€æ—¢èª­ãƒ•ãƒ©ã‚°ï¼‰               |

#### å¥‘ç´„ãƒ»ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

| ãƒ¢ãƒ‡ãƒ«           | èª¬æ˜                                                           |
| ---------------- | -------------------------------------------------------------- |
| **WorkContract** | åŠ´åƒå¥‘ç´„ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€åŠ´åƒæ¡ä»¶é€šçŸ¥æ›¸ã€å¥‘ç´„æœŸé–“ã€æ™‚çµ¦ã€å‹¤å‹™æ—¥ï¼‰ |
| **WorkSchedule** | å‹¤å‹™ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆå¥‘ç´„ã€å‹¤å‹™æ—¥ã€é–‹å§‹æ™‚åˆ»ã€çµ‚äº†æ™‚åˆ»ã€ä¼‘æ†©æ™‚é–“ï¼‰ |

#### å‹¤æ€ ç®¡ç†

| ãƒ¢ãƒ‡ãƒ«               | èª¬æ˜                                                 |
| -------------------- | ---------------------------------------------------- |
| **AttendanceRecord** | å‹¤æ€ è¨˜éŒ²ï¼ˆå‡ºå‹¤æ™‚åˆ»ã€é€€å‹¤æ™‚åˆ»ã€ä¼‘æ†©æ™‚é–“ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼‰ |

#### é€šçŸ¥ãƒ»è¦ç´„

| ãƒ¢ãƒ‡ãƒ«             | èª¬æ˜                                             |
| ------------------ | ------------------------------------------------ |
| **Notification**   | é€šçŸ¥ï¼ˆã‚¿ã‚¤ãƒ—ã€ã‚¿ã‚¤ãƒˆãƒ«ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€æ—¢èª­ãƒ•ãƒ©ã‚°ï¼‰ |
| **TermsOfService** | åˆ©ç”¨è¦ç´„ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼‰                       |
| **TermsAgreement** | åˆ©ç”¨è¦ç´„åŒæ„è¨˜éŒ²                                 |

---

### ğŸ”— Enum å‹

| Enum                  | å€¤                                                                                                                                                        |
| --------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **UserType**          | `pharmacist`, `pharmacy`                                                                                                                                  |
| **EmploymentType**    | `full_time`, `part_time`, `contract`, `temporary`                                                                                                         |
| **JobStatus**         | `open`, `closed`, `filled`, `draft`                                                                                                                       |
| **ApplicationStatus** | `pending`, `under_review`, `interview_scheduled`, `accepted`, `rejected`, `withdrawn`                                                                     |
| **NotificationType**  | `application_received`, `application_status_changed`, `message_received`, `schedule_reminder`, `system_notification`, `contract_offer`, `contract_signed` |

---

## ğŸ“¦ å¿…é ˆä¾å­˜é–¢ä¿‚

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆpackage.jsonï¼‰

```json
{
  "dependencies": {
    "next": "15.5.4",
    "react": "^19.0.0",
    "react-dom": "^19.0.0",
    "tailwindcss": "^3.4.1",
    "lucide-react": "^0.469.0",
    "react-calendar": "^5.1.0",
    "browser-image-compression": "^2.0.2"
  },
  "devDependencies": {
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "typescript": "^5"
  }
}
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆbackend/package.jsonï¼‰

```json
{
  "dependencies": {
    "express": "^5.1.0",
    "cors": "^2.8.5",
    "helmet": "^8.1.0",
    "dotenv": "^17.2.2",
    "jsonwebtoken": "^9.0.2",
    "bcryptjs": "^3.0.2",
    "pg": "^8.16.3",
    "@line/bot-sdk": "^10.3.0",
    "multer": "^2.0.2",
    "axios": "^1.12.2",
    "uuid": "^13.0.0",
    "crypto": "^1.0.1"
  },
  "devDependencies": {
    "nodemon": "^3.1.10",
    "@types/node": "^24.5.2"
  }
}
```

### Prismaï¼ˆpackage.jsonï¼‰

```json
{
  "dependencies": {
    "@prisma/client": "^6.16.2"
  },
  "devDependencies": {
    "prisma": "^6.16.2"
  }
}
```

---

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. ç’°å¢ƒå¤‰æ•°è¨­å®š

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆï¼ˆ.envï¼‰**:

```env
DATABASE_URL=postgresql://username:password@localhost:5432/pharmacy_platform
```

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆ.env.localï¼‰**:

```env
NEXT_PUBLIC_API_URL=http://localhost:3001
```

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆbackend/.envï¼‰**:

```env
DATABASE_URL=postgresql://username:password@localhost:5432/pharmacy_platform
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:3000
```

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Prisma Clientç”Ÿæˆ
npx prisma generate

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆåˆå›ã®ã¿ï¼‰
npx prisma db push

# æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰ã‚¹ã‚­ãƒ¼ãƒå–å¾—ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
npx prisma db pull
```

### 3. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰
npm install

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
cd backend && npm install
```

### 4. ã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
cd backend && npm run dev

# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
npm run dev
```

### 5. ã‚¢ã‚¯ã‚»ã‚¹

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: http://localhost:3000
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API**: http://localhost:3001
- **ãƒ†ã‚¹ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**:
  - è–¬å‰¤å¸«: `test-pharmacist@example.com` / `test1234`
  - è–¬å±€: `test-pharmacy@example.com` / `test1234`

---

## ğŸ“‹ æ©Ÿèƒ½åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒˆãƒªãƒƒã‚¯ã‚¹

### èªè¨¼æ©Ÿèƒ½

| ãƒ¬ã‚¤ãƒ¤ãƒ¼           | ãƒ•ã‚¡ã‚¤ãƒ«                                                          |
| ------------------ | ----------------------------------------------------------------- |
| Frontend           | `app/auth/login/page.tsx`, `app/auth/register/page.tsx`           |
| API Client         | `lib/api/auth.ts`                                                 |
| Backend Route      | `backend/src/routes/auth.js`                                      |
| Backend Controller | `backend/src/controllers/authController.js`                       |
| Middleware         | `backend/src/middleware/auth.js`                                  |
| Database           | `prisma/schema.prisma` (User, PharmacistProfile, PharmacyProfile) |

---

### æ±‚äººç®¡ç†æ©Ÿèƒ½

| ãƒ¬ã‚¤ãƒ¤ãƒ¼           | ãƒ•ã‚¡ã‚¤ãƒ«                                                                                             |
| ------------------ | ---------------------------------------------------------------------------------------------------- |
| Frontend           | `app/pharmacy/dashboard/page.tsx` (å‹Ÿé›†æ²è¼‰ã‚¿ãƒ–), `app/pharmacist/dashboard/page.tsx` (å‹Ÿé›†æ¤œç´¢ã‚¿ãƒ–) |
| API Client         | `lib/api/jobs.ts`                                                                                    |
| Backend Route      | `backend/src/routes/jobs.js`                                                                         |
| Backend Controller | `backend/src/controllers/jobController.js`                                                           |
| Database           | `prisma/schema.prisma` (JobPosting)                                                                  |

---

### å¿œå‹Ÿç®¡ç†æ©Ÿèƒ½

| ãƒ¬ã‚¤ãƒ¤ãƒ¼           | ãƒ•ã‚¡ã‚¤ãƒ«                                                                                     |
| ------------------ | -------------------------------------------------------------------------------------------- |
| Frontend           | `app/pharmacist/dashboard/page.tsx` (å¿œå‹Ÿ), `app/pharmacy/dashboard/page.tsx` (å¿œå‹Ÿç¢ºèªã‚¿ãƒ–) |
| API Client         | `lib/api/applications.ts`                                                                    |
| Backend Route      | `backend/src/routes/applications.js`                                                         |
| Backend Controller | `backend/src/controllers/applicationController.js`                                           |
| Database           | `prisma/schema.prisma` (JobApplication)                                                      |

---

### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°æ©Ÿèƒ½

| ãƒ¬ã‚¤ãƒ¤ãƒ¼           | ãƒ•ã‚¡ã‚¤ãƒ«                                                                                                 |
| ------------------ | -------------------------------------------------------------------------------------------------------- |
| Frontend           | `app/pharmacist/dashboard/page.tsx` (ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ãƒ–), `app/pharmacy/dashboard/page.tsx` (ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ãƒ–) |
| API Client         | `lib/api/messages.ts`                                                                                    |
| Backend Route      | `backend/src/routes/messages.js`                                                                         |
| Backend Controller | `backend/src/controllers/messageController.js`                                                           |
| Database           | `prisma/schema.prisma` (MessageThread, Message)                                                          |

---

### å¥‘ç´„ç®¡ç†æ©Ÿèƒ½

| ãƒ¬ã‚¤ãƒ¤ãƒ¼           | ãƒ•ã‚¡ã‚¤ãƒ«                                                                                             |
| ------------------ | ---------------------------------------------------------------------------------------------------- |
| Frontend           | `app/pharmacist/dashboard/page.tsx` (å¥‘ç´„ç®¡ç†ã‚¿ãƒ–), `app/pharmacy/dashboard/page.tsx` (å¥‘ç´„ç®¡ç†ã‚¿ãƒ–) |
| API Client         | `lib/api/contracts.ts`                                                                               |
| Backend Route      | `backend/src/routes/contracts.js`                                                                    |
| Backend Controller | `backend/src/controllers/contractController.js`                                                      |
| Database           | `prisma/schema.prisma` (WorkContract)                                                                |

---

### ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†æ©Ÿèƒ½

| ãƒ¬ã‚¤ãƒ¤ãƒ¼           | ãƒ•ã‚¡ã‚¤ãƒ«                                                                                                         |
| ------------------ | ---------------------------------------------------------------------------------------------------------------- |
| Frontend           | `app/pharmacy/dashboard/page.tsx` (å‹¤å‹™ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã‚¿ãƒ–), `app/pharmacist/dashboard/page.tsx` (å‡ºå‹¤äºˆå®šã‚¿ãƒ–) |
| API Client         | `lib/api/schedules.ts`                                                                                           |
| Backend Route      | `backend/src/routes/schedules.js`                                                                                |
| Backend Controller | `backend/src/controllers/scheduleController.js`                                                                  |
| Database           | `prisma/schema.prisma` (WorkSchedule)                                                                            |

---

## âš ï¸ é‡è¦ãªæ³¨æ„äº‹é …

### å¿…é ˆã®è¨­å®š

1. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š**: PostgreSQL ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
2. **ç’°å¢ƒå¤‰æ•°**: ã™ã¹ã¦ã®`.env`ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨
3. **Prisma Client**: `npx prisma generate`ã‚’å®Ÿè¡Œã—ã¦ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ç”Ÿæˆ
4. **ãƒãƒ¼ãƒˆ**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆ3000ï¼‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆ3001ï¼‰ãŒç©ºã„ã¦ã„ã‚‹ã“ã¨

### é–‹ç™ºæ™‚ã®æ³¨æ„

1. **Prisma ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´æ™‚**: å¿…ãš`npx prisma generate`ã‚’å®Ÿè¡Œ
2. **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å†èµ·å‹•**: ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚„ãƒ«ãƒ¼ãƒˆå¤‰æ›´æ™‚ã¯ nodemon ãŒè‡ªå‹•ã§å†èµ·å‹•
3. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å†èµ·å‹•**: `lib/api`é…ä¸‹ã®å¤‰æ›´æ™‚ã¯ãƒ–ãƒ©ã‚¦ã‚¶ãƒªãƒ­ãƒ¼ãƒ‰
4. **JWT ãƒˆãƒ¼ã‚¯ãƒ³**: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå¾Œã¯ localStorage ã‚’ã‚¯ãƒªã‚¢

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

**å•é¡Œ**: 500 ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ

- **è§£æ±ºç­–**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°ï¼ˆ`/tmp/backend.log`ï¼‰ã‚’ç¢ºèª
- Prisma Client ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

**å•é¡Œ**: èªè¨¼ã‚¨ãƒ©ãƒ¼

- **è§£æ±ºç­–**: JWT ãƒˆãƒ¼ã‚¯ãƒ³ãŒæœ‰åŠ¹ã‹ç¢ºèªã€å¿…è¦ãªã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã—ç›´ã™

**å•é¡Œ**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

- **è§£æ±ºç­–**: `DATABASE_URL`ãŒæ­£ã—ã„ã‹ç¢ºèªã€PostgreSQL ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª

---

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- **Next.js**: https://nextjs.org/docs
- **Prisma**: https://www.prisma.io/docs
- **Express**: https://expressjs.com/
- **Tailwind CSS**: https://tailwindcss.com/docs
- **PostgreSQL**: https://www.postgresql.org/docs/

---

**æœ€çµ‚æ›´æ–°**: 2024 å¹´ 12 æœˆ 4 æ—¥  
**ä½œæˆè€…**: AI Development Assistant  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: è–¬å‰¤å¸«ãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

